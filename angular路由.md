# angular路由

## 1.利用script标签的src属性实现跨域

  1.  src属性天然支持跨域

  2.  外部的js文件可以引入一个跨域的js文件

  3.  引入成功后，浏览器会将引入的资源当做js代码执行一次，如果不能执行就会产生console报错； 

  4.   src支持任意格式的合法资源

       .html .php .js .jsp .asp c#........

 	5. 跨域请求的原理

     1. 准备工作

        首先是浏览器准备好一个函数test

        这个函数的功能是处理跨域服务器返回的数据

        这个函数值少一个参数

        这个参数就是浏览器返回给我们的数据

     2. src发请求

        * 利用src属性发起跨域请求
        * 在发请求的时候我们要将事先准备的处理数据的函数的名字发给        服务器  ？callback=test
        * 一般情况下如果是实现jsonp的话 都叫callback，具体看文档

     3. 服务器做的事

        * 首先取到浏览器传递过去的函数名 test
        * 然后在使用自己的逻辑处理数据
        * 最终返回的数据格式是这样的：
          test（json数据）

     4. 跨域服务器返回数据

        * 浏览器拿到数据后：test(json数据)
        * 执行test函数并将json数据传入函数

     5. jsonp一定需要服务器配合，能读取callback，并且能返回一个执行函数的语句；本质上还是get请求；ajax无路如何是不能跨域的（浏览器的同源策略，保证用户的安全）

